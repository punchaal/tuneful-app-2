(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){e.exports=a(158)},136:function(e,t,a){var n={"./Avatar.js":137,"./Badge.js":138,"./Button.js":139,"./Chip.js":140,"./Divider.js":141,"./Icon.js":142,"./IconButton.js":143,"./Toolbar.js":144,"./Typography.js":145,"./index.js":37};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=136},137:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),o=a.n(r),i=a(2),c=a(105),l=a(7);t.default=function(e){var t=e.className,a=e.small,r=e.medium,s=e.ultraLarge,m=Object(n.a)(e,["className","small","medium","ultraLarge"]);return o.a.createElement(c.a,Object.assign({className:Object(i.a)(l.a.root,t,a&&l.a.small,r&&l.a.medium,s&&l.a.ultraLarge)},m))}},138:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),o=a.n(r),i=a(2),c=a(165),l=a(7);t.default=function(e){var t=e.className,a=e.dotted,r=Object(n.a)(e,["className","dotted"]);return o.a.createElement(c.a,Object.assign({className:Object(i.a)(l.b.root,t,a&&l.b.dotted)},r))}},139:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),o=a.n(r),i=a(2),c=a(163),l=a(7);t.default=function(e){var t=e.className,a=e.inverted,r=e.danger,s=Object(n.a)(e,["className","inverted","danger"]);return o.a.createElement(c.a,Object.assign({className:Object(i.a)(l.c.root,t,a&&l.c.inverted,r&&l.c.danger)},s))}},140:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),o=a.n(r),i=a(2),c=a(169),l=a(7);t.default=function(e){var t=e.className,a=e.inverted,r=Object(n.a)(e,["className","inverted"]);return o.a.createElement(c.a,Object.assign({className:Object(i.a)(l.d.root,t,a&&l.d.inverted),classes:{label:l.d.label}},r))}},141:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),o=a.n(r),i=a(2),c=a(161),l=a(7);t.default=function(e){var t=e.className,a=e.vertical,r=Object(n.a)(e,["className","vertical"]);return o.a.createElement(c.a,Object.assign({className:Object(i.a)(l.e.root,t,a&&l.e.vertical)},r))}},142:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),o=a.n(r),i=a(2),c=a(166),l=a(7);t.default=function(e){var t=e.className,a=e.left,r=e.right,s=e.front,m=e.frontFlipped,u=e.caret,d=e.link,p=e.linkInverted,g=e.contained,f=e.white,h=e.purple,b=Object(n.a)(e,["className","left","right","front","frontFlipped","caret","link","linkInverted","contained","white","purple"]);return o.a.createElement(c.a,Object.assign({className:Object(i.a)(l.f.root,t,a&&l.f.left,r&&l.f.right,s&&l.f.front,d&&l.f.link,m&&l.f.frontFlipped,p&&l.f.linkInverted,u&&l.f.caret,g&&l.f.contained,f&&l.f.white,h&&l.f.purple)},b))}},143:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),o=a.n(r),i=a(2),c=a(164),l=a(7);t.default=function(e){var t=e.className,a=e.shaded,r=e.noPad,s=e.narrowPad,m=e.separated,u=e.linkInverted,d=Object(n.a)(e,["className","shaded","noPad","narrowPad","separated","linkInverted"]);return o.a.createElement(c.a,Object.assign({className:Object(i.a)(l.g.root,t,a&&l.g.shaded,r&&l.g.noPad,s&&l.g.narrowPad,m&&l.g.separated,u&&l.g.linkInverted)},d))}},144:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),o=a.n(r),i=a(2),c=a(167),l=a(7);t.default=function(e){var t=e.className,a=e.narrow,r=Object(n.a)(e,["className","narrow"]);return o.a.createElement(c.a,Object.assign({className:Object(i.a)(l.i.root,t,a&&l.i.narrow)},r))}},145:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),o=a.n(r),i=a(2),c=a(47),l=a(7);t.default=function(e){var t=e.className,a=e.bold,r=e.link,s=e.linkInverted,m=e.icon,u=e.inverted,d=e.indented,p=e.light,g=e.lightWeight,f=Object(n.a)(e,["className","bold","link","linkInverted","icon","inverted","indented","light","lightWeight"]);return o.a.createElement(c.a,Object.assign({className:Object(i.a)(l.h.root,t,a&&l.h.bold,m&&l.h.icon,r&&l.h.link,s&&l.h.linkInverted,u&&l.h.inverted,d&&l.h.indented,p&&l.h.light,g&&l.h.lightWeight)},f))}},146:function(e,t,a){var n={"./appBar.js":147,"./avatar.js":148,"./button.js":149,"./divider.js":150,"./icon.js":151,"./iconButton.js":152,"./input.js":153,"./list.js":154,"./tabs.js":155,"./toolbar.js":156,"./typography.js":157};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=146},147:function(e,t,a){"use strict";a.r(t);var n=a(6);t.default=function(e){var t,a=e.nest,r=e.white,o=e.DIVIDER,i=e.TOOLBAR,c=e.ICON;return{MuiAppBar:{root:(t={height:77,borderBottom:"1px solid rgba(0,0,0,0.0975)",alignItems:"center","& .image__instagram-logo":{width:28,height:28},"& .image__instagram-label":{maxWidth:103,marginTop:4}},Object(n.a)(t,a(i.root),{padding:"26px 20px",maxWidth:1010,width:"100%"}),Object(n.a)(t,a(c.root),{fontSize:24,"&:not(:first-child)":{marginLeft:30}}),Object(n.a)(t,a(o.vertical),{height:28}),t),colorDefault:{backgroundColor:r.text}}}}},148:function(e,t,a){"use strict";a.r(t),t.default=function(){return{MuiAvatar:{root:{width:44,height:44,backgroundColor:"#fafafa","&:after":{border:"1px solid rgba(0,0,0,0.0975)",borderRadius:"50%",bottom:0,content:'""',left:0,pointerEvents:"none",position:"absolute",right:0,top:0},"&.avatar--link":{cursor:"pointer"},"&.avatar--small":{width:34,height:34},"&.avatar--medium":{width:77,height:77},"&.avatar--ultra-large":{width:152,height:152}}}}}},149:function(e,t,a){"use strict";a.r(t);var n=a(6);t.default=function(e){var t,a,r,o=e.attach,i=e.nest,c=e.primary,l=e.theme,s=e.red,m=e.white,u=e.BUTTON,d=e.ICON;return{MuiButton:{root:(t={padding:"5px 9px",border:"1px solid transparent",minHeight:30},Object(n.a)(t,o(u.inverted),{borderColor:m.secondary,color:m.text}),Object(n.a)(t,"".concat(o(u.inverted),":hover"),{borderColor:m.primary,background:m.hint}),t),label:(a={textTransform:"none",fontWeight:600,lineHeight:"18px"},Object(n.a)(a,i(d.root),{fontSize:20}),Object(n.a)(a,i(d.left),{marginRight:l.spacing(1)}),Object(n.a)(a,i(d.right),{marginLeft:l.spacing(1)}),a),outlined:{borderColor:"#dbdbdb","&$disabled.inverted":{borderColor:m.text,color:m.text}},contained:(r={borderColor:c.main,boxShadow:l.shadows[0],"&$focusVisible":{boxShadow:l.shadows[0]},"&:active":{boxShadow:l.shadows[0]},"&$disabled":{boxShadow:l.shadows[0]}},Object(n.a)(r,o(u.danger),{color:m.text,background:s.main}),Object(n.a)(r,"".concat(o(u.danger),":hover"),{background:s.dark}),r),containedPrimary:{color:l.palette.common.white,"&:hover":{backgroundColor:c.main},"&:active":{opacity:.6}}}}}},150:function(e,t,a){"use strict";a.r(t);var n=a(6);t.default=function(e){var t=e.attach,a=e.DIVIDER;return{MuiDivider:{root:Object(n.a)({},t(a.vertical),{backgroundColor:"#262626",width:1,margin:"0 16px",display:"inline-block",transform:"scaleX(0.5)"})}}}},151:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(17);t.default=function(e){var t,a,o=e.attach,i=e.linked,c=e.linkInverted,l=e.theme,s=e.primary,m=e.white,u=e.ICON,d=(a={},Object(n.a)(a,o(u.linkInverted),c),Object(n.a)(a,o(u.link),Object(r.a)({},i,{color:"initial"})),Object(n.a)(a,o(u.white),{color:m.text}),Object(n.a)(a,o(u.small),{fontSize:18}),Object(n.a)(a,o(u.contained),(t={padding:l.spacing(.5),width:"calc(1em + 4px)",height:"calc(1em + 4px)",borderRadius:"50%",color:l.palette.common.white},Object(n.a)(t,o(u.red),{backgroundColor:"red"}),Object(n.a)(t,o(u.primary),{backgroundColor:s.main}),Object(n.a)(t,o(u.purple),{backgroundColor:"purple"}),t)),a);return{MuiSvgIcon:{root:d},MuiIcon:{root:d}}}},152:function(e,t,a){"use strict";a.r(t);var n=a(6);t.default=function(e){var t,a,r,o,i=e.attach,c=e.nest,l=e.ICON,s=e.ICON_BUTTON,m=e.linkInverted,u=e.theme;return{MuiIconButton:{root:(o={padding:8},Object(n.a)(o,i(s.shaded),{backgroundColor:"rgba(0, 0, 0, 0.08)"}),Object(n.a)(o,i(s.noPad),{padding:0}),Object(n.a)(o,i(s.narrowPad),{padding:4}),Object(n.a)(o,i(s.separated),(a={position:"relative"},Object(n.a)(a,c(l.front),{transition:"0.15s ease"}),Object(n.a)(a,c(l.caret),{transition:"0.15s ease",position:"absolute",visibility:"hidden",opacity:0,right:2}),Object(n.a)(a,"&:hover",(t={},Object(n.a)(t,c(l.front),{transform:"translateX(-6px)"}),Object(n.a)(t,c(l.frontFlipped),{transform:"translateX(-6px) rotateZ(-20deg)"}),Object(n.a)(t,c(l.caret),{visibility:"visible",opacity:1,right:-4}),t)),a)),Object(n.a)(o,i(s.linkInverted),(r={},Object(n.a)(r,c(l.root),m),Object(n.a)(r,"&:hover",Object(n.a)({},c(l.root),{color:u.palette.common.white})),r)),o)}}}},153:function(e,t,a){"use strict";a.r(t);var n=a(6);t.default=function(e){var t,a=e.nest,r=e.primary,o=e.NOTCHED_OUTLINE;return{MuiOutlinedInput:{root:(t={"& svg":{fontSize:16,color:"#999999"}},Object(n.a)(t,a(o.focused),{border:"2px solid ".concat(r.main)}),Object(n.a)(t,"backgroundColor","#fafafa"),Object(n.a)(t,"borderRadius",3),t),notchedOutline:{border:"1px solid #dbdbdb"},input:{padding:"5px 10px 5px 0",fontSize:14,lineHeight:"18px"}}}}},154:function(e,t,a){"use strict";a.r(t),t.default=function(e){var t=e.theme;return{MuiList:{root:{backgroundColor:e.white.text}},MuiListItem:{root:{"& .MuiTypography-root.list__item-text--primary":{fontSize:14,fontWeight:600,color:t.palette.text.primary,textDecoration:"none"},"& .list__item-text--secondary":{fontSize:14,fontWeight:"normal",color:"#999"},"& .list__item-text--tertiary":{fontSize:12,fontWeight:400,color:"#999"}}}}}},155:function(e,t,a){"use strict";a.r(t);var n=a(6);t.default=function(e){var t=e.theme;return{MuiTabs:{root:{borderTop:"1px solid #efefef",overflow:"visible"},fixed:{overflowX:"visible"},indicator:{height:1,transform:"translateY(-53px)",backgroundColor:"#262626"}},MuiTab:{root:Object(n.a)({minHeight:54,fontWeight:600,minWidth:0},t.breakpoints.up("md"),{minWidth:0}),labelIcon:{minHeight:null,paddingTop:null,"& $wrapper :first-child":{fontSize:16,marginBottom:0,marginRight:6}},textColorInherit:{color:"#999","&$selected":{color:"#262626"}},wrapper:{flexDirection:"row"}}}}},156:function(e,t,a){"use strict";a.r(t);var n=a(6);t.default=function(e){var t,a=e.attach,r=e.TOOLBAR;return{MuiToolbar:{root:(t={},Object(n.a)(t,a(r.root),{minHeight:"auto"}),Object(n.a)(t,a(r.narrow),{padding:"8px 24px"}),t)}}}},157:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(17);t.default=function(e){var t,a=e.attach,o=e.nest,i=e.linked,c=e.linkInverted,l=e.theme,s=e.primary,m=e.TEXT,u=e.ICON;return{MuiTypography:{root:(t={},Object(n.a)(t,a(m.link),Object(r.a)({},i,{textDecoration:"underline"})),Object(n.a)(t,"".concat(a(m.link),":hover"),{cursor:"pointer",color:s.main}),Object(n.a)(t,a(m.indented),{marginLeft:l.spacing(1)}),Object(n.a)(t,a(m.indentedLg),{marginLeft:l.spacing(3)}),Object(n.a)(t,a(m.bold),{fontWeight:600}),Object(n.a)(t,a(m.inverted),{color:l.palette.common.white}),Object(n.a)(t,a(m.linkInverted),c),Object(n.a)(t,a(m.light),{opacity:.6}),Object(n.a)(t,a(m.icon),Object(n.a)({display:"flex",alignItems:"flex-end"},o(u.root),{marginRight:l.spacing(.5)})),Object(n.a)(t,a(m.lightWeight),{fontWeight:200}),t),subtitle1:{lineHeight:"24px"}}}}},158:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),c=a(207),l=a(46),s=a(210),m=a(102),u=a(61),d=a(110),p=a(103),g=a(109),f=a(16),h="https://murmuring-beyond-87321.herokuapp.com/api",b="tuneful-app-token",v={saveAuthToken:function(e){window.localStorage.setItem(b,e)},getAuthToken:function(){return window.localStorage.getItem(b)},clearAuthToken:function(){window.localStorage.removeItem(b)},hasAuthToken:function(){return!!v.getAuthToken()}},E=v;function j(e){var t=e.component,a=Object(f.a)(e,["component"]),n=t;return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return E.hasAuthToken()?r.a.createElement(n,e):r.a.createElement(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))}var O=a(105),y=a(163),_=a(160),x=a(206),k=a(43),w=a.n(k),N=a(47),S=a(159),C=a(56),I=a.n(C),T=a(6),P=a(17),D=a(12),A={postLogin:function(e){var t=e.email,a=e.password;return fetch("".concat(h,"/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:t,password:a})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},postUser:function(e){return fetch("".concat(h,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})}},L=a(22),R=Object(L.a)({forceRefresh:!0}),W="",B="";try{W=localStorage.getItem("tuneful-app-token"),B=JSON.parse(atob(W.split(".")[1])).user_id}catch(mt){B=""}var M=B,F={updateUser:function(e){var t=e.description;return fetch("".concat(h,"/users/").concat(M),{headers:{"content-type":"application/json",_method:"PATCH"},body:JSON.stringify({description:t})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})}},U=function(e){var t=Object(n.useState)({}),a=Object(D.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(null),c=Object(D.a)(i,2),l=c[0],s=c[1];return{handleChange:function(e){e.persist(),o(function(t){return Object(P.a)({},t,Object(T.a)({},e.target.id,e.target.value))})},handleSubmit:function(e){e&&e.preventDefault();var t=e.target,a=t.first_name,n=t.last_name,r=t.email,o=t.password;A.postUser({first_name:a.value,last_name:n.value,email:r.value,password:o.value}).then(function(e){a.value="",n.value="",r.value="",o.value="",R.push("/success")}).catch(function(e){console.log(e.error)})},handleSubmitJwtAuth:function(e){e.preventDefault();var t=e.target,a=t.email,n=t.password;A.postLogin({email:a.value,password:n.value}).then(function(e){a.value="",n.value="",E.saveAuthToken(e.authToken)}).catch(function(e){s(e.error),console.log(e.error)}),window.setTimeout(function(){R.push("/spotify-login")},2e3)},handleEditProfileSubmit:function(e){e.preventDefault();var t=e.target;console.log(t.value),F.updateUser({description:t.value}).then(function(e){t.value=""}).catch(function(e){console.log(e.error)})},handleLogoutClick:function(){E.clearAuthToken(),R.push("/profile")},handleProfileClick:function(){R.push("/profile")},handlePublicProfileRedirect:function(e){R.push("/profile/".concat(e))},values:r,error:l}},z=a(161),H=a(41),G=a(221),q=Object(S.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(I.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}});function J(){var e=q(),t=U(),a=t.values,n=t.handleChange,o=t.handleSubmit,i=t.error;return r.a.createElement(x.a,{container:!0,component:"main",className:e.root},r.a.createElement(c.a,null),r.a.createElement(x.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),r.a.createElement(x.a,{item:!0,xs:12,sm:8,md:5,component:_.a,elevation:6,square:!0},r.a.createElement("div",{className:e.paper},r.a.createElement(O.a,{className:e.avatar},r.a.createElement(w.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Tuneful"),r.a.createElement("form",{onSubmit:o,className:e.form,onError:function(e){return console.log(e)},noValidate:!0},r.a.createElement(z.a,{variant:"middle",component:"hr"}),r.a.createElement("div",{role:"alert"},i&&r.a.createElement("p",{className:"red"},i)),r.a.createElement(x.a,{container:!0,spacing:2},r.a.createElement(x.a,{item:!0,xs:12,sm:6},r.a.createElement(G.a,{onChange:n,value:a.first_name,autoComplete:"fname",name:"first_name",variant:"outlined",required:!0,fullWidth:!0,id:"first_name",label:"First Name",style:{marginTop:"30px"},autoFocus:!0})),r.a.createElement(x.a,{item:!0,xs:12,sm:6},r.a.createElement(G.a,{onChange:n,value:a.last_name,variant:"outlined",required:!0,fullWidth:!0,id:"last_name",label:"Last Name",name:"last_name",style:{marginTop:"30px"},autoComplete:"lname"})),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(G.a,{onChange:n,value:a.email,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(G.a,{onChange:n,value:a.password,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}))),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit},"Sign me up")),r.a.createElement(x.a,{item:!0,xs:!0},r.a.createElement(H.a,{to:"/"},"Already have an account? Log in here")))))}var V=a(209),X=a(224),$=Object(S.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(I.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}});function Z(){var e=$(),t=U(),a=t.values,n=t.handleChange,o=t.handleSubmitJwtAuth;return r.a.createElement(x.a,{container:!0,component:"main",className:e.root},r.a.createElement(c.a,null),r.a.createElement(x.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),r.a.createElement(x.a,{item:!0,xs:12,sm:8,md:5,component:_.a,elevation:6,square:!0},r.a.createElement("div",{className:e.paper},r.a.createElement(O.a,{className:e.avatar},r.a.createElement(w.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Tuneful"),r.a.createElement("form",{onSubmit:o,className:e.form,onError:function(e){return console.log(e)},noValidate:!0},r.a.createElement(z.a,{variant:"middle",component:"hr"}),r.a.createElement(G.a,{onChange:n,value:a.email,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,style:{marginTop:"30px"}}),r.a.createElement(G.a,{onChange:n,value:a.password,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(V.a,{control:r.a.createElement(X.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit},"Sign In"),r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0,xs:!0},r.a.createElement(H.a,{to:"/",variant:"body2"},"Forgot password?")),r.a.createElement(x.a,{item:!0},r.a.createElement(H.a,{to:"/register"},"Don't have an account? Sign Up")))))))}var Y=a(220),K=a(37),Q=a(108),ee=a(69),te={main:"#3897f0"},ae=Object(Q.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},palette:{primary:te},shape:{borderRadius:4},props:{MuiTab:{disableRipple:!0}}}),ne={text:"#fff",primary:"rgba(255, 255, 255, 0.7)",secondary:"rgba(255, 255, 255, 0.54)",disabled:"rgba(255, 255, 255, 0.38)",hint:"rgba(255, 255, 255, 0.24)"},re={cursor:"pointer",color:te.main,display:"inline-block"},oe=Object(P.a)({},re,{color:ne.primary,"&:hover":{color:"#fff"}}),ie=Object(P.a)({},ee.j,{theme:ae,drawer:{header:"#232f3e"},primary:te,red:{main:"#ff5252",dark:"#e04848"},shade:{light:"#f5f5f5"},linked:re,linkInverted:oe,white:ne}),ce=a(146),le={};ce.keys().forEach(function(e){le=Object(P.a)({},le,ce(e).default(ie))});var se=Object(P.a)({},ie.theme,{overrides:le}),me=function(e){return function(t){return function(a){return r.a.createElement(s.a,{theme:e},r.a.createElement(t,a))}}},ue=a(222),de=a(34),pe=a.n(de),ge=a(225),fe=a(215),he=a(213),be=a(214),ve=a(212),Ee=a(211),je=r.a.forwardRef(function(e,t){return r.a.createElement(Ee.a,Object.assign({direction:"up",ref:t},e))});function Oe(e){var t=r.a.useState(!1),a=Object(D.a)(t,2),n=a[0],o=a[1],i=U(),c=i.values,l=i.handleEditProfileSubmit,s=i.handleChange,m=Object(S.a)({editButton:Object(T.a)({background:"#828282",color:"#fff",marginLeft:0,marginTop:12},se.breakpoints.up("sm"),{marginLeft:20})})();function u(){o(!1)}return r.a.createElement(ue.a,null,r.a.createElement(y.a,{className:m.editButton,variant:"outlined",onClick:function(){o(!0)}},"Edit Profile"),r.a.createElement(ge.a,{TransitionComponent:je,open:n,onClose:u,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:l,className:m.form,onError:function(e){return console.log(e)}},r.a.createElement(ve.a,{id:"form-dialog-title"},"Edit Profile"),r.a.createElement(he.a,null,r.a.createElement(be.a,null,"Please enter a description about yourself or about your interests."),r.a.createElement(G.a,{onChange:s,autoFocus:!0,value:c.description,margin:"dense",id:"description",label:"Description",name:"description",fullWidth:!0})),r.a.createElement(fe.a,null,r.a.createElement(y.a,{onClick:u,color:"primary"},"Cancel"),r.a.createElement(y.a,{type:"submit",color:"primary",className:m.submit},"Enter")))))}var ye=a(216),_e=K.default.Divider,xe=K.default.Toolbar,ke=Object(S.a)(function(e){return{avatar:{"&:hover":{cursor:"pointer"}},header1:{height:"auto"},header2:{marginRight:e.spacing(2),width:"50%"}}}),we=function(){var e=Object(n.useState)({user:{image:""}}),t=Object(D.a)(e,2),a=t[0],o=t[1],i=U(),c=i.handleLogoutClick,l=i.handleProfileClick,s=ke();return Object(n.useEffect)(function(){fetch("https://murmuring-beyond-87321.herokuapp.com/api/users/".concat(M)).then(function(e){return e.json()}).then(function(e){var t=e.image_url;void 0===t&&(t="http://www.accountingweb.co.uk/sites/all/modules/custom/sm_pp_user_profile/img/default-user.png"),o({user:Object(P.a)({},a.user,{image:t})})})},[]),r.a.createElement(ye.a,{className:s.header1,position:"sticky",color:"default",elevation:0},r.a.createElement(xe,{narrow:!0},r.a.createElement(x.a,{container:!0,alignItems:"center"},r.a.createElement(x.a,{item:!0,xs:!0,style:{maxWidth:"50%"}},r.a.createElement(x.a,{container:!0,alignItems:"center"},r.a.createElement(w.a,null),r.a.createElement(_e,{vertical:!0}),r.a.createElement(N.a,{variant:"h5"},"Tuneful"))),r.a.createElement(x.a,{item:!0,className:s.header2},r.a.createElement(x.a,{container:!0,justify:"space-around"},r.a.createElement(y.a,{href:"/share-music",variant:"outlined"},"Share Music"),r.a.createElement(y.a,{href:"/discover"},"Discover"),r.a.createElement(y.a,{onClick:c},"Logout"),r.a.createElement(O.a,{alt:"VZ",src:a.user.image,className:s.avatar,onClick:l}))))))},Ne=a(106),Se=a.n(Ne),Ce=a(107),Ie=a.n(Ce),Te=a(208),Pe=a(217),De=a(219),Ae=a(218),Le=function(e){var t=Object(S.a)(function(e){return{root:{maxWidth:"100%",backgroundColor:e.palette.background.paper,flexShrink:"1"},inline:{display:"inline"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)}}}),a=Object(n.useState)({comment_user:{name:"",description:""}}),o=Object(D.a)(a,2),i=o[0],c=o[1];Object(n.useEffect)(function(){fetch("http://localhost:8000/api/users/".concat(e.comment_data.user_id)).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.image_url;void 0===t&&(t="http://www.accountingweb.co.uk/sites/all/modules/custom/sm_pp_user_profile/img/default-user.png"),c({comment_user:{name:e.first_name,image:t}})})},[]);var l=t();return r.a.createElement(ue.a,{component:"span"},r.a.createElement(Te.a,{className:l.root},r.a.createElement(Pe.a,{alignItems:"flex-start"},r.a.createElement(Ae.a,null,r.a.createElement(O.a,{alt:"image",src:i.comment_user.image})),r.a.createElement(De.a,{primaryTypographyProps:{variant:"subtitle2"},primary:i.comment_user.name,secondary:r.a.createElement(ue.a,{component:"span"},r.a.createElement(N.a,{component:"span",variant:"body2",className:l.inline,color:"textPrimary"},e.comment_data.description))})),r.a.createElement(z.a,{variant:"inset",component:"li"})))},Re=a(2),We=r.a.forwardRef(function(e,t){return r.a.createElement(Ee.a,Object.assign({direction:"up",ref:t},e))}),Be=function(e){var t=r.a.useState(!1),a=Object(D.a)(t,2),o=a[0],i=a[1],c=r.a.useState(""),l=Object(D.a)(c,2),s=l[0],m=l[1],u=r.a.useState(0),d=Object(D.a)(u,2),p=d[0],g=d[1],f=r.a.useState(!1),h=Object(D.a)(f,2),b=h[0],v=h[1],E=Object(n.useState)({user:{name:"",image:""}}),j=Object(D.a)(E,2),_=j[0],k=j[1],w=Object(n.useState)([]),C=Object(D.a)(w,2),I=C[0],T=C[1],P=Object(n.useState)(),A=Object(D.a)(P,2),L=A[0],R=A[1],W=U(),B=W.handlePublicProfileRedirect,F=W.handleProfileClick,H=Object(S.a)(function(e){return{postImg:{width:"100%",height:"100%",opacity:"0.8","&:hover":{opacity:"1",cursor:"pointer"}},dialog:{},iframe:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},root:{flexGrow:1},dialogGrid:{display:"flex",justifyContent:"space-around",flexDirection:"row",height:"75%",alignContent:"space-between"},leftPane:{display:"flex",flexDirection:"column",paddingLeft:e.spacing(2),flexGrow:"1"},rightPane:{display:"flex",flexDirection:"column",flexGrow:"2",paddingRight:e.spacing(2),paddingLeft:e.spacing(1),width:"50%",flexShrink:"0",justifyContent:"space-between"},icon:{margin:e.spacing(1),fontSize:32,color:"Red","&:hover":{cursor:"pointer"}},userInfo:{display:"flex",flexDirection:"row",alignItems:"center"},bigAvatar:{margin:10,width:60,height:60},userInfoPanel:{"&:hover":{cursor:"pointer"}},postAuthor:{display:"flex",flexDirection:"column"},commentsList:{height:"100%",maxHeight:"350px",overflow:"auto"}}});Object(n.useEffect)(function(){},[]);var q=H(),J=function(e){return e.slice(0,24)+"/embed"+e.slice(24,e.length)};var V=function(){v(!b),console.log("isLiked "+b),g(!1===b?p+1:p-1)};function X(){i(!1)}return r.a.createElement(x.a,{item:!0,xs:4,key:e.id},r.a.createElement("img",{alt:"post",src:e.image_url,className:q.postImg,onClick:function(){var t=e.post_data.author;console.log(t),fetch("http://localhost:8000/api/users/".concat(t)).then(function(e){return e.json()}).then(function(e){var t=e.image_url;void 0===t&&(console.log("using default image"),t="http://www.accountingweb.co.uk/sites/all/modules/custom/sm_pp_user_profile/img/default-user.png"),k({user:{id:e.id,first_name:e.first_name,last_name:e.last_name,image:t}})}),fetch("http://localhost:8000/api/comments/posts/".concat(e.post_data.id)).then(function(e){return e.json()}).then(function(e){console.log(e),T(e),setTimeout(function(){return console.log(I)},3e3)}),m(J(e.post_data.music_url)),i(!0)}}),r.a.createElement(ge.a,{TransitionComponent:We,open:o,onClose:X,"aria-labelledby":"form-dialog-title",className:q.dialog,PaperProps:{style:{height:"80%",width:"100%",maxWidth:"60%"}}},r.a.createElement(fe.a,null,r.a.createElement(y.a,{onClick:X,color:"primary"},"Close")),r.a.createElement(x.a,{container:!0,className:q.dialogGrid},r.a.createElement(x.a,{item:!0,className:q.leftPane},r.a.createElement("iframe",{src:s,width:"100%",height:"380px",frameBorder:"0",allowtransparency:"true",allow:"encrypted-media",className:"iframe"}),!0===b&&r.a.createElement(Se.a,{className:q.icon,onClick:V}),!1===b&&r.a.createElement(Ie.a,{className:q.icon,onClick:V}),r.a.createElement(be.a,null,p," likes")),r.a.createElement(x.a,{item:!0,className:q.rightPane},r.a.createElement(x.a,{className:q.userInfoPanel,onClick:function(){var e=_.user.id;console.log(e),e===M?(console.log("id's are the same!"),F()):B(e)}},r.a.createElement(ue.a,{component:"span",display:"block",className:q.userInfo},r.a.createElement(O.a,{alt:"VZ",src:_.user.image,className:q.bigAvatar}),r.a.createElement(x.a,{item:!0,className:q.postAuthor},r.a.createElement(N.a,{variant:"h5",gutterBottom:!0,style:{marginLeft:"8px"}},_.user.first_name+" "+_.user.last_name),r.a.createElement(N.a,{variant:"subtitle1",gutterBottom:!0,style:{margin:"0 8px 8px"}},e.post_data.description))),r.a.createElement(z.a,{variant:"middle"})),r.a.createElement(x.a,{className:q.commentsList},I.map(function(e){return r.a.createElement(Le,{comment_data:e,key:e.id+1,id:e.id})})),r.a.createElement(x.a,null,r.a.createElement(G.a,{id:"outlined-dense",label:"Add comment",className:Object(Re.a)(q.textField,q.dense),margin:"dense",variant:"outlined",fullWidth:!0,multiline:!0,rowsMax:"2",onChange:function(e){R(e.target.value)}}),r.a.createElement(x.a,null,r.a.createElement(y.a,{className:Object(Re.a)(q.textField,q.dense),margin:"dense",variant:"outlined",onClick:function(){console.log(L);var t=e.post_data.author;console.log(t);var a=L,n=e.post_data.id,r=new Date,o=String(r.getDate()).padStart(2,"0"),i=String(r.getMonth()+1).padStart(2,"0"),c=r.getFullYear(),l=r.getHours(),s=r.getMinutes(),m=r.getSeconds();r="".concat(c,"-").concat(i,"-").concat(o," ").concat(l,":").concat(s,":").concat(m),console.log("adding comment on: "+r);var u=r;fetch("http://localhost:8000/api/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({description:a,posts_id:n,user_id:M,date_commented:u})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}),window.location.reload()},style:{width:"100%"}}," Post ")))))))},Me=a(35),Fe=function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}(),Ue=new pe.a,ze=K.default.Avatar,He=K.default.Typography,Ge=me(se)(function(){var e=Object(Me.a)()[0].access_token;Ue.setAccessToken(e);var t=Object(Y.a)(se.breakpoints.up("sm"),{defaultMatches:!0}),a=Object(n.useState)({loggedIn:!!Fe.access_token,user:{name:"",email:"",image:"",description:""}}),o=Object(D.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)([]),m=Object(D.a)(s,2),u=m[0],d=m[1];Object(n.useEffect)(function(){fetch("https://murmuring-beyond-87321.herokuapp.com/api/users/".concat(M)).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.image_url;void 0!==t&&null!==t||(console.log("using default image"),t="https://icon-library.net/images/default-user-icon/default-user-icon-4.jpg"),l({user:Object(P.a)({},i.user,{first_name:e.first_name,last_name:e.last_name,description:e.description,image:t})})}),fetch("https://murmuring-beyond-87321.herokuapp.com/api/posts/author/".concat(M)).then(function(e){return e.json()}).then(function(e){d(e)})},[]),Object(n.useEffect)(function(){try{u.map(function(e){return console.log(e.id)})}catch(mt){d([])}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(we,null),r.a.createElement(ue.a,{component:"main",maxWidth:935,margin:"auto",padding:"60px 20px 30px"},r.a.createElement(ue.a,{mb:"44px"},r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(ze,{ultraLarge:t,medium:!t,style:{margin:"auto"},alt:"Profile Pic",src:i.user.image})),r.a.createElement(x.a,{item:!0,xs:8},r.a.createElement(ue.a,{clone:!0,mb:"20px"},r.a.createElement(x.a,{container:!0,alignItems:"center"},r.a.createElement(He,{component:"h1",variant:"h3",lightWeight:!0},i.user.first_name+" "+i.user.last_name),r.a.createElement(Oe,{changed:function(e){},desc:""}))),r.a.createElement(He,{variant:"subtitle1"},i.user.description),r.a.createElement(ue.a,{mb:"20px"},r.a.createElement(x.a,{container:!0,spacing:5},r.a.createElement(x.a,{item:!0},r.a.createElement(He,{variant:"subtitle1"},r.a.createElement("b",null,"0")," followers")),r.a.createElement(x.a,{item:!0},r.a.createElement(He,{variant:"subtitle1"},r.a.createElement("b",null,"0")," following"))),r.a.createElement(x.a,{container:!0,spacing:4},u.reverse().map(function(e){return r.a.createElement(Be,{post_data:e,key:e.id+1,image_url:e.image_url,id:e.id})}))))))))}),qe=Object(S.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(I.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}});function Je(){var e=qe();return r.a.createElement(x.a,{container:!0,component:"main",className:e.root},r.a.createElement(c.a,null),r.a.createElement(x.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),r.a.createElement(x.a,{item:!0,xs:12,sm:8,md:5,component:_.a,elevation:6,square:!0},r.a.createElement("div",{className:e.paper},r.a.createElement(O.a,{className:e.avatar},r.a.createElement(w.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Tuneful"),r.a.createElement(y.a,{href:"https://murmuring-beyond-87321.herokuapp.com/api/spotify-login",type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit},"Connect with Spotify"))))}var Ve=r.a.forwardRef(function(e,t){return r.a.createElement(Ee.a,Object.assign({direction:"up",ref:t},e))}),Xe=new pe.a,$e=me(se)(function(e){var t=r.a.useState(!1),a=Object(D.a)(t,2),o=a[0],i=a[1],c=r.a.useState([]),l=Object(D.a)(c,2),s=l[0],m=l[1],u=Object(Me.a)()[0].access_token;Xe.setAccessToken(u);var d=Object(S.a)(function(e){return{changeSong:{padding:e.spacing(3,2),display:"flex",justifyContent:"space-between",alignItems:"center"},dialog:{},changeSongButton:{"&:hover":{cursor:"pointer"},paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},changeSongDialog:{display:"flex",flexDirection:"row",marginLeft:"auto",marginRight:"auto",width:"95%",alignItems:"flex-start"},songItem:{padding:"5px",display:"flex",flexDirection:"column"},songImage:{width:"60%","&:hover":{cursor:"default"}},songItemsPaper:{display:"flex",flexDirection:"row",padding:"5px",justifyContent:"space-between",margin:"5px",alignItems:"center","&:hover":{cursor:"pointer"}}}});Object(n.useEffect)(function(){},[]);var p=d(),g=function(){i(!1)},f=function(e,t){var a;return function(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(a),a=setTimeout(function(){return e.apply(n,o)},t)}}(function(e){console.log(e);var t=[],a=e;""!==a&&Xe.searchTracks(a).then(function(e){for(var a=0;a<10;a++)console.log(a),void 0!==e.tracks.items[a]&&void 0!==e.tracks.items[a].album.images[0]&&(t[a]={artist:e.tracks.items[a].artists[0].name,name:e.tracks.items[a].name,id:e.tracks.items[a].id,image:e.tracks.items[a].album.images[0].url,url:e.tracks.items[a].external_urls.spotify,album:e.tracks.items[a].album.name,key:e.tracks.items[a].id});console.log(t),m(t)})},500);return r.a.createElement(x.a,{container:!0},r.a.createElement(_.a,{className:p.changeSong,style:{width:"100%"}},r.a.createElement(O.a,{alt:"Spotify Logo",src:"https://1000logos.net/wp-content/uploads/2017/08/Spotify-Logo-500x367.png"}," "),r.a.createElement(x.a,{item:!0,style:{display:"flex",flexDirection:"column",paddingLeft:se.spacing(2),paddingRight:se.spacing(2)}},r.a.createElement(x.a,{item:!0},r.a.createElement(N.a,{variant:"h6",component:"h3"},""===e.selectedSongState.name||void 0===e.selectedSongState.name?"Select a song":e.selectedSongState.name)),r.a.createElement(x.a,{item:!0},r.a.createElement(N.a,null,e.selectedSongState.artist)),r.a.createElement(x.a,{item:!0},r.a.createElement(N.a,null,e.selectedSongState.album))),r.a.createElement(N.a,{color:"primary",onClick:function(){m([]),console.log(u),i(!0)},className:p.changeSongButton},"Change"),r.a.createElement(ge.a,{TransitionComponent:Ve,open:o,onClose:g,"aria-labelledby":"form-dialog-title",PaperProps:{style:{height:"80%",width:"100%",maxWidth:"60%",background:"#ecebe8"}}},r.a.createElement(fe.a,null,r.a.createElement(y.a,{onClick:g,color:"primary"},"Close")),r.a.createElement(x.a,{container:!0,className:p.changeSongDialog,spacing:3},r.a.createElement(x.a,{item:!0},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(G.a,{placeholder:"Seach for a song...",onChange:function(e){return f(e.target.value)}}))),r.a.createElement(x.a,{item:!0,xs:12,className:p.songItem},s.map(function(t){return r.a.createElement(x.a,{item:!0,xs:12,key:t.id,className:p.songItemsGrid,onClick:function(){var a;a=t,e.changeSong(a),i(!1)}},r.a.createElement(_.a,{className:p.songItemsPaper},r.a.createElement(x.a,{item:!0,xs:6,style:{display:"flex",flexDirection:"column"}},r.a.createElement(x.a,null,r.a.createElement(N.a,{variant:"subtitle2",style:{fontSize:"1rem"}},t.name)),r.a.createElement(x.a,null,r.a.createElement(N.a,{variant:"subtitle2"},t.artist)),r.a.createElement(x.a,null,r.a.createElement(N.a,{variant:"body2"},t.album))),r.a.createElement(x.a,{item:!0,xs:6},r.a.createElement(x.a,{container:!0,style:{justifyContent:"center"}},r.a.createElement("img",{alt:"song image",src:t.image,className:p.songImage})))))}))))))}),Ze=Object(S.a)(function(e){return{addDesc:{padding:e.spacing(3,2)},postImg:{width:"100%",height:"100%","&:hover":{cursor:"pointer"}},leftPane:{display:"flex",flexDirection:"column",justifyContent:"space-between"}}}),Ye=new pe.a,Ke=me(se)(function(){var e=Ze(),t=U().handleProfileClick,a=Object(Me.a)()[0].access_token;Ye.setAccessToken(a);var n=r.a.useState({name:"",artist:"",album:"",image:"",url:"",desc:""}),o=Object(D.a)(n,2),i=o[0],l=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(we,null),r.a.createElement(ue.a,{component:"main",maxWidth:935,margin:"auto",padding:"40px 20px 20px"},r.a.createElement(x.a,{container:!0,spacing:3},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(N.a,{variant:"h4"},"Share your music")),r.a.createElement(x.a,{item:!0,xs:6,className:e.leftPane},r.a.createElement($e,{changeSong:function(e){console.log(e),l(e),console.log(i)},selectedSongState:i}),r.a.createElement(x.a,{item:!0,component:"span"},r.a.createElement(N.a,{component:"span",variant:"h6",style:{marginBottom:se.spacing(2)}},"Add description:"),r.a.createElement(_.a,{className:e.addDesc},r.a.createElement(N.a,{component:"span"},r.a.createElement(G.a,{placeholder:"Write a caption...",fullWidth:!0,multiline:!0,rows:4,rowsMax:4,onChange:function(e){return l(Object(P.a)({},i,{desc:e.target.value}))}}))))),r.a.createElement(x.a,{item:!0,xs:6},r.a.createElement("img",{alt:"post",src:void 0===i.image||""===i.image?"https://orig00.deviantart.net/26aa/f/2011/185/f/9/no_cover_itunes_by_stainless2-d3kxnbe.png":i.image,className:e.postImg})),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(y.a,{type:"submit",variant:"contained",color:"primary",className:e.submit,onClick:function(){var e=i.desc,a=M,n=i.image,r=i.url;void 0===e&&(e=""),console.log("".concat(e,"  ").concat(a,"  ").concat(n,"  ").concat(r)),""==a||""==n||""==r||fetch("http://localhost:8000/api/posts",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({description:e,author:a,image_url:n,music_url:r})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}),t()}},"Share")))))}),Qe=Object(S.a)(function(e){return{postsGrid:{display:"flex",flexDirection:"row",flexWrap:"wrap"},discoverTitle:{marginBottom:"30px",justifyContent:"center"}}}),et=new pe.a,tt=me(se)(function(){var e=Qe(),t=(U().handleProfileClick,Object(Me.a)()[0].access_token);et.setAccessToken(t);var a=r.a.useState([]),o=Object(D.a)(a,2),i=o[0],l=o[1];Object(n.useEffect)(function(){fetch("http://localhost:8000/api/posts/").then(function(e){return e.json()}).then(function(e){console.log(e),l(e)})},[]),Object(n.useEffect)(function(){if(i===[]);else{var e=s(i);l(e)}});var s=function(e){for(var t=e,a=0;a<t.length;a++){var n=new Date(t[a].date_published);t[a].date_published=n.getTime()}return t};return console.log(i),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(we,null),r.a.createElement(ue.a,{component:"main",maxWidth:935,margin:"auto",padding:"40px 20px 30px"},r.a.createElement(x.a,{container:!0,className:e.discoverTitle},r.a.createElement(N.a,{variant:"h4",style:{}},"Discover")),r.a.createElement(x.a,{container:!0,spacing:4,className:e.postsGrid},i.reverse().map(function(e){return r.a.createElement(Be,{post_data:e,key:e.date_published,image_url:e.image_url,id:e.id})}))))}),at=new pe.a,nt=K.default.Avatar,rt=K.default.Typography,ot=me(se)(function(){var e=Object(Me.a)()[0].access_token;at.setAccessToken(e);var t=Object(Y.a)(se.breakpoints.up("sm"),{defaultMatches:!0}),a=Object(n.useState)({loggedIn:!!Fe.access_token,user:{name:"",email:"",image:"",description:""}}),o=Object(D.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)([]),m=Object(D.a)(s,2),u=m[0],d=m[1];Object(n.useEffect)(function(){var e=window.location.pathname.slice(9);console.log(window.location.pathname),console.log("Logged in user: ".concat(M)),console.log("Public User Profile id: ".concat(e)),console.log("Public Profile"),fetch("http://localhost:8000/api/users/".concat(e)).then(function(e){return e.json()}).then(function(e){console.log(e),console.log(e.description);var t=e.image_url;void 0===t&&(console.log("using default image"),t="http://www.accountingweb.co.uk/sites/all/modules/custom/sm_pp_user_profile/img/default-user.png"),l({user:Object(P.a)({},i.user,{first_name:e.first_name,last_name:e.last_name,description:e.description,image:t})})}),fetch("http://localhost:8000/api/posts/author/".concat(e)).then(function(e){return e.json()}).then(function(e){d(e)})},[]),Object(n.useEffect)(function(){});return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(we,null),r.a.createElement(ue.a,{component:"main",maxWidth:935,margin:"auto",padding:"60px 20px 30px"},r.a.createElement(ue.a,{mb:"44px"},r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(nt,{ultraLarge:t,medium:!t,style:{margin:"auto"},alt:"Profile Pic",src:i.user.image})),r.a.createElement(x.a,{item:!0,xs:8},r.a.createElement(ue.a,{clone:!0,mb:"20px"},r.a.createElement(x.a,{container:!0,alignItems:"center"},r.a.createElement(rt,{component:"h1",variant:"h3",lightWeight:!0},i.user.first_name+" "+i.user.last_name))),r.a.createElement(rt,{variant:"subtitle1"},i.user.description),r.a.createElement(ue.a,{mb:"20px"},r.a.createElement(x.a,{container:!0,spacing:5},r.a.createElement(x.a,{item:!0},r.a.createElement(rt,{variant:"subtitle1"},r.a.createElement("b",null,"0")," followers")),r.a.createElement(x.a,{item:!0},r.a.createElement(rt,{variant:"subtitle1"},r.a.createElement("b",null,"0")," following"))))))),r.a.createElement(x.a,{container:!0,spacing:4},u.reverse().map(function(e){return r.a.createElement(Be,{post_data:e,key:e.id+1,image_url:e.image_url,id:e.id})}))))}),it=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:Z}),r.a.createElement(l.b,{path:"/register",component:J}),r.a.createElement(l.b,{path:"/success",component:Je}),r.a.createElement(l.b,{path:"/profile/:id",component:ot}),r.a.createElement(j,{path:"/profile",component:Ge}),r.a.createElement(j,{path:"/share-music",component:Ke}),r.a.createElement(j,{path:"/discover",component:tt}),r.a.createElement(l.b,{path:"/spotify-login",component:function(){return window.location.href="https://murmuring-beyond-87321.herokuapp.com/api/spotify-login",null}})))}}]),t}(n.Component),ct=a(82),lt=Object(Q.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#84bd00"},error:{main:ct.a.A400},background:{default:"#fff"}}}),st=Object(L.a)();i.a.render(r.a.createElement(s.a,{theme:lt},r.a.createElement(c.a,null),r.a.createElement(l.c,{history:st},r.a.createElement(it,null))),document.querySelector("#root"))},37:function(e,t,a){"use strict";a.r(t);var n={},r=a(136);r.keys().forEach(function(e){n[e.replace(/\.\/|\.js/g,"")]=r(e).default}),t.default=n},56:function(e,t,a){e.exports=a.p+"static/media/home-screen.2d01060d.jpg"},69:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return i}),a.d(t,"e",function(){return c}),a.d(t,"g",function(){return l}),a.d(t,"f",function(){return s}),a.d(t,"h",function(){return m}),a.d(t,"i",function(){return u});var n={root:"avatar__root",small:"avatar--small",medium:"avatar--medium",ultraLarge:"avatar--ultra-large"},r={root:"badge__root",dotted:"badge--dotted"},o={root:"button__root",inverted:"button--inverted",danger:"button--danger"},i={root:"chip__root",label:"chip__label",narrow:"chip--narrow",icon:"chip__icon",inverted:"chip--inverted"},c={root:"divider__root",vertical:"divider--vertical"},l={root:"icon-button__root",shaded:"icon-button--shaded",noPad:"icon-button--no-pad",narrowPad:"icon-button--narrow-pad",separated:"icon-button--separated",linkInverted:"icon-button--link-inverted"},s={root:"icon__root",left:"icon--left",right:"icon--right",front:"icon__front",caret:"icon__caret",frontFlipped:"icon__front--flipped",link:"icon--link",linkInverted:"icon--link-inverted",contained:"icon--contained",purple:"icon--purple",white:"icon--white",red:"icon--red",primary:"icon--primary",small:"icon--small"},m={root:"text__root",bold:"text--bold",link:"text--link",linkInverted:"text--link-inverted",icon:"text--icon",inverted:"text--inverted",indented:"text--indented",indentedLg:"text--indented-lg",light:"text--light",lightWeight:"text--light-weight"},u={root:"toolbar__root",narrow:"toolbar--narrow"};t.j={AVATAR:n,APP_BAR:{root:"app-bar__root",shaded:"app-bar--shaded"},BADGE:r,BUTTON:o,CARD:{root:"card__root",contained:"card__root--contained",actionable:"card__root--actionable",spaceGrey:"card__root--space-grey",darkBlue:"card__root--dark-blue"},CARD_ACTIONS:{root:"card-actions__root",action:"card-actions__action",contained:"card-actions--contained"},CARD_MEDIA:{root:"card-media__root",wideScreen:"card-media--wide-screen"},CARD_CONTENT:{root:"card-content__root"},CARD_ACTION_AREA:{root:"card-action-area__root"},DIVIDER:c,GRID:{root:"grid__root",flex:"grid--flex"},LIST:{root:"list__root"},LIST_ITEM:{root:"list-item__root",header:"list-item__header",headerLabel:"list-item__header-label",headerActionable:"list-item__header--actionable",active:"list-item--active",category:"list-item__category",subcategory:"list-item__subcategory"},LIST_ITEM_TEXT:{root:"list-item-text__root",primary:"list-item-text__primary",category:"list-item-text__category",subcategory:"list-item-text__subcategory",subcategoryPrimary:"list-item-text__subcategory--primary"},LIST_ITEM_ICON:{root:"list-item-icon__root",subcategory:"list-item-icon__subcategory"},NOTCHED_OUTLINE:{root:"notched-outline__root",focused:"notched-outline--focused"},ICON:s,ICON_BUTTON:l,TOOLBAR:u,TEXT:m,attach:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return"&.".concat(t.join("."))},nest:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return"& .".concat(t.join("."))}}},7:function(e,t,a){"use strict";var n=a(69);a.d(t,"a",function(){return n.a}),a.d(t,"b",function(){return n.b}),a.d(t,"c",function(){return n.c}),a.d(t,"d",function(){return n.d}),a.d(t,"e",function(){return n.e}),a.d(t,"f",function(){return n.f}),a.d(t,"g",function(){return n.g}),a.d(t,"h",function(){return n.h}),a.d(t,"i",function(){return n.i})}},[[119,1,2]]]);
//# sourceMappingURL=main.9661f4b9.chunk.js.map